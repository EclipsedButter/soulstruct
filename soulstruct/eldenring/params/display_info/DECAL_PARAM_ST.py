from soulstruct.base.params.utils import ParamFieldInfo, pad_field, bit_pad_field


DECAL_PARAM_ST = {
    "param_type": "DECAL_PARAM_ST",
    "file_name": "",  # TODO
    "nickname": "",  # TODO
    "fields": [
        ParamFieldInfo(
            "textureId",
            "Texture ID",
            True,
            int,
            'Texture ID',
        ),
        ParamFieldInfo(
            "dmypolyId",
            "Dummy Poly ID",
            True,
            int,
            'Damipoly ID of decal generation standard. If specified by TAE, it will be the value of TAE.',
        ),
        ParamFieldInfo(
            "pitchAngle",
            "Reference Angle Offset: Pitch",
            True,
            float,
            'Reference angle offset_up / down [deg]',
        ),
        ParamFieldInfo(
            "yawAngle",
            "Reference Angle Offset: Yaw",
            True,
            float,
            'Reference angle offset_left / right [deg]',
        ),
        ParamFieldInfo(
            "nearDistance",
            "Paste Start Distance",
            True,
            float,
            'Pasting start distance [m]',
        ),
        ParamFieldInfo(
            "farDistance",
            "Paste End Distance",
            True,
            float,
            'Paste end distance [m]',
        ),
        ParamFieldInfo(
            "nearSize",
            "Start Distance Size",
            True,
            float,
            'Size at the start distance',
        ),
        ParamFieldInfo(
            "farSize",
            "End Distance Size",
            True,
            float,
            'Size at the end distance [m]',
        ),
        ParamFieldInfo(
            "maskSpeffectId",
            "Mask SpEffect ID",
            True,
            int,
            'Monitoring special effect ID. If you enter an arbitrary special effect ID, decals will not be generated unless the special effect is applied.',
        ),
        ParamFieldInfo(
            "pad_10:4",
            "Padding",
            True,
            int,
            'Padding',
        ),
        ParamFieldInfo(
            "replaceTextureId_byMaterial:1",
            "Texture Replacement by Material",
            True,
            int,
            'When it is generated by an attack hit, 1 changes the texture depending on the defense material. New Texture ID = Blood Material ID * 10000000 + Original Texture ID',
        ),
        ParamFieldInfo(
            "dmypolyCategory:2",
            "Dummy Poly Search Location",
            True,
            int,
            'Damipoli Search Location 0: Body 1: Left Hand Weapon 2: Right Hand Weapon',
        ),
        ParamFieldInfo(
            "pad_05:4",
            "Padding",
            True,
            int,
            'Padding',
        ),
        ParamFieldInfo(
            "useDeferredDecal:1",
            "Use Deferred Decal",
            True,
            int,
            'Acts as a deferred decal at 1',
        ),
        ParamFieldInfo(
            "usePaintDecal:1",
            "Use Paint Decal",
            True,
            int,
            'Acts as a paint decal at 1',
        ),
        ParamFieldInfo(
            "bloodTypeEnable:1",
            "Blood Type Enable",
            True,
            int,
            'Affected by optional bloody expression, ID is +1000 in mild, do not paste if hidden',
        ),
        ParamFieldInfo(
            "bUseNormal:1",
            "Use Normal Component",
            True,
            int,
            '1 if normal component is used (compatible with normal and shinyness texture integration)',
        ),
        ParamFieldInfo(
            "pad_08:1",
            "Padding",
            True,
            int,
            'Padding',
        ),
        ParamFieldInfo(
            "pad_09:1",
            "Padding",
            True,
            int,
            'Padding',
        ),
        ParamFieldInfo(
            "usePom:1",
            "Enable POM",
            True,
            int,
            'Whether to enable POM',
        ),
        ParamFieldInfo(
            "useEmissive:1",
            "Enable Emissive",
            True,
            int,
            'Whether to update emissive',
        ),
        ParamFieldInfo(
            "putVertical:1",
            "Enable Vertical Paste",
            True,
            int,
            'Whether to paste vertically',
        ),
        ParamFieldInfo(
            "randomSizeMin",
            "Random Scale % - Min",
            True,
            int,
            'Random scale minimum [%]',
        ),
        ParamFieldInfo(
            "randomSizeMax",
            "Random Scale % - Max",
            True,
            int,
            'Random scale maximum [%]',
        ),
        ParamFieldInfo(
            "randomRollMin",
            "Random Angle Roll - Min",
            True,
            float,
            'Random angle_minimum twist [deg]',
        ),
        ParamFieldInfo(
            "randomRollMax",
            "Random Angle Roll - Max",
            True,
            float,
            'Random angle _ maximum twist [deg]',
        ),
        ParamFieldInfo(
            "randomPitchMin",
            "Random Angle Pitch - Min",
            True,
            float,
            'Random angle_minimum top and bottom [deg]',
        ),
        ParamFieldInfo(
            "randomPitchMax",
            "Random Angle Pitch - Max",
            True,
            float,
            'Random angle_maximum value [deg]',
        ),
        ParamFieldInfo(
            "randomYawMin",
            "Random Angle Yaw - Min",
            True,
            float,
            'Random angle_minimum left and right [deg]',
        ),
        ParamFieldInfo(
            "randomYawMax",
            "Random Angle Yaw - Max",
            True,
            float,
            'Random angle_maximum left and right [deg]',
        ),
        ParamFieldInfo(
            "pomHightScale",
            "POM Height Scale",
            True,
            float,
            'POM height scale',
        ),
        ParamFieldInfo(
            "pomSampleMin",
            "POM Sample - Minimum Count",
            True,
            int,
            'Minimum number of POM samples',
        ),
        ParamFieldInfo(
            "pomSampleMax",
            "POM Sample - Maximum Count",
            True,
            int,
            'Maximum number of POM samples',
        ),
        ParamFieldInfo(
            "blendMode",
            "Blend Mode",
            True,
            int,
            'Blend mode',
        ),
        ParamFieldInfo(
            "appearDirType",
            "Appearance Direction Type",
            True,
            int,
            'Reference coordinates that determine the direction in which the decal is flown',
        ),
        ParamFieldInfo(
            "emissiveValueBegin",
            "Emissive Value: Start",
            True,
            float,
            'Emissive starting price',
        ),
        ParamFieldInfo(
            "emissiveValueEnd",
            "Emissive Value: End",
            True,
            float,
            'Emissive end value',
        ),
        ParamFieldInfo(
            "emissiveTime",
            "Emissive Update Time",
            True,
            float,
            'Interpolation time from start value to end value',
        ),
        ParamFieldInfo(
            "bIntpEnable",
            "Enable Interpolation",
            True,
            int,
            'Do you generate the time when the bar is extended due to the decal generation of TAE?',
        ),
        ParamFieldInfo(
            "pad_01[3]",
            "Padding",
            False,
            pad_field(3),
            'Padding',
        ),
        ParamFieldInfo(
            "intpIntervalDist",
            "Interpolation Interval Distance",
            True,
            float,
            'Distance to interpolate decals generated between TAE bars when interpolation is enabled',
        ),
        ParamFieldInfo(
            "beginIntpTextureId",
            "Interpolation Start - Texture ID",
            True,
            int,
            'Texture ID at the start of interpolation (-1 uses the same value as the texture ID)',
        ),
        ParamFieldInfo(
            "endIntpTextureId",
            "Interpolation End - Texture ID",
            True,
            int,
            'Texture at the end of interpolation Texture ID (-1 uses the same value as the texture ID)',
        ),
        ParamFieldInfo(
            "appearSfxId",
            "Appearance SFX ID",
            True,
            int,
            'SFXID issued when the decal is affixed (Nothing is issued with -1)',
        ),
        ParamFieldInfo(
            "appearSfxOffsetPos",
            "Appearance SFX Offset Position",
            True,
            float,
            'Offset distance of SFX generation position',
        ),
        ParamFieldInfo(
            "maskTextureId",
            "Mask Texture ID",
            True,
            int,
            'Mask texture ID (see texture ID with -1)',
        ),
        ParamFieldInfo(
            "diffuseTextureId",
            "Diffuse Texture ID",
            True,
            int,
            'Albedo Texture ID (See Texture ID with -1)',
        ),
        ParamFieldInfo(
            "reflecTextureId",
            "Reflect Texture ID",
            True,
            int,
            'Reflectance texture ID (see texture ID with -1)',
        ),
        ParamFieldInfo(
            "maskScale",
            "Mask Strength Scale",
            True,
            float,
            'Mask strength (currently valid only with deferred decals)',
        ),
        ParamFieldInfo(
            "normalTextureId",
            "Normal Texture ID",
            True,
            int,
            'Normal texture ID (see texture ID with -1)',
        ),
        ParamFieldInfo(
            "heightTextureId",
            "Height Texture ID",
            True,
            int,
            'Height texture ID (see texture ID with -1)',
        ),
        ParamFieldInfo(
            "emissiveTextureId",
            "Emissive Texture ID",
            True,
            int,
            'Emissive Texture ID (See Texture ID with -1)',
        ),
        ParamFieldInfo(
            "diffuseColorR",
            "Diffuse Color: R",
            True,
            int,
            'Albedo color: R',
        ),
        ParamFieldInfo(
            "diffuseColorG",
            "Diffuse Color: G",
            True,
            int,
            'Albedo color: G',
        ),
        ParamFieldInfo(
            "diffuseColorB",
            "Diffuse Color: B",
            True,
            int,
            'Albedo color: B',
        ),
        ParamFieldInfo(
            "pad_03[1]",
            "Padding",
            False,
            pad_field(1),
            'Padding',
        ),
        ParamFieldInfo(
            "reflecColorR",
            "Reflect Color: R",
            True,
            int,
            'Reflect color: R',
        ),
        ParamFieldInfo(
            "reflecColorG",
            "Reflect Color: G",
            True,
            int,
            'Reflect color: G',
        ),
        ParamFieldInfo(
            "reflecColorB",
            "Reflect Color: B",
            True,
            int,
            'Reflect color: B',
        ),
        ParamFieldInfo(
            "bLifeEnable",
            "Life Enable",
            True,
            int,
            'Is the life effective?',
        ),
        ParamFieldInfo(
            "siniScale",
            "Shininess Scale",
            True,
            float,
            'The strength of shinyness',
        ),
        ParamFieldInfo(
            "lifeTimeSec",
            "Decal Duration",
            True,
            float,
            'Lifespan [seconds] (Time after decal is applied, fade-in time does not matter)',
        ),
        ParamFieldInfo(
            "fadeOutTimeSec",
            "Decal Fadeout Time",
            True,
            float,
            'Fade out time [seconds]',
        ),
        ParamFieldInfo(
            "priority",
            "Decal Priority",
            True,
            int,
            'The larger this value, the easier it is to remain (-1 does not disappear)',
        ),
        ParamFieldInfo(
            "bDistThinOutEnable",
            "Thin Out Nearby Decal",
            True,
            int,
            'Whether to thin out if there is a decal nearby',
        ),
        ParamFieldInfo(
            "bAlignedTexRandomVariationEnable",
            "Enable Aligned Texture Random Variation",
            True,
            int,
            'If you select "Yes", one variation number randomly determined for each texture other than 0 will be applied. The number of non-zero variations must be the same.',
        ),
        ParamFieldInfo(
            "distThinOutCheckDist",
            "Decal Thin Out - Check Distance",
            True,
            float,
            'Candidates for thinning if there is a decal within this distance',
        ),
        ParamFieldInfo(
            "distThinOutCheckAngleDeg",
            "Decal Thin Out - Check Angle",
            True,
            float,
            'Candidates for thinning if the difference in decal direction is within this angle',
        ),
        ParamFieldInfo(
            "distThinOutMaxNum",
            "Decal Thin Out - Max Count",
            True,
            int,
            'If the distance and angle are more than this number, thin out',
        ),
        ParamFieldInfo(
            "distThinOutCheckNum",
            "Decal Thin Out - Check Count",
            True,
            int,
            'How many recent thinning candidates to check',
        ),
        ParamFieldInfo(
            "delayAppearFrame",
            "Decal Spawn Delay",
            True,
            int,
            'After trying to paste the decal, it will actually be pasted after this frame',
        ),
        ParamFieldInfo(
            "randVaria_Diffuse:4",
            "Random Variation - Diffuse",
            True,
            int,
            'Number of random variations of albedo texture (including 0th, 2 for 2 textures)',
        ),
        ParamFieldInfo(
            "randVaria_Mask:4",
            "Random Variation - Mask",
            True,
            int,
            'Number of random variations of mask texture (including 0th, 2 for 2 textures)',
        ),
        ParamFieldInfo(
            "randVaria_Reflec:4",
            "Random Variation - Reflect",
            True,
            int,
            'Number of random variations of reflex textures (including 0th, 2 for 2 textures)',
        ),
        ParamFieldInfo(
            "pad_12:4",
            "Padding",
            True,
            int,
            '',
        ),
        ParamFieldInfo(
            "randVaria_Normal:4",
            "Random Variation - Normal",
            True,
            int,
            'Number of random variations of normal texture (including 0th, 2 for 2 textures)',
        ),
        ParamFieldInfo(
            "randVaria_Height:4",
            "Random Variation - Height",
            True,
            int,
            'Number of random variations of height texture (including 0th, 2 for 2 textures)',
        ),
        ParamFieldInfo(
            "randVaria_Emissive:4",
            "Random Variation - Emissive",
            True,
            int,
            'Number of random variations of emissive textures (including 0th, 2 for 2 textures)',
        ),
        ParamFieldInfo(
            "pad_11:4",
            "Padding",
            True,
            int,
            'Padding',
        ),
        ParamFieldInfo(
            "fadeInTimeSec",
            "Fade In Spawn Delay",
            True,
            float,
            'Fade-in time [seconds]',
        ),
        ParamFieldInfo(
            "thinOutOverlapMultiRadius",
            "Thin Out - Overlap Multiplier Radius",
            True,
            float,
            'Determine if the decal size is duplicated by multiplying it by this value.',
        ),
        ParamFieldInfo(
            "thinOutNeighborAddRadius",
            "Thin Out - Neighbor Addition Radius",
            True,
            float,
            'Judge whether it is a neighborhood within the range of adding this distance [m] to the decal size.',
        ),
        ParamFieldInfo(
            "thinOutOverlapLimitNum",
            "Thin Out - Overlap Limit Number",
            True,
            int,
            'Limit number that can be duplicated',
        ),
        ParamFieldInfo(
            "thinOutNeighborLimitNum",
            "Thin Out - Neighbor Limit Number",
            True,
            int,
            'Maximum number of neighbors',
        ),
        ParamFieldInfo(
            "thinOutMode",
            "Thin Out Mode",
            True,
            int,
            'Thinning mode',
        ),
        ParamFieldInfo(
            "emissiveColorR",
            "Emissive Color: R",
            True,
            int,
            'Emissive color: R',
        ),
        ParamFieldInfo(
            "emissiveColorG",
            "Emissive Color: G",
            True,
            int,
            'Emissive color: G',
        ),
        ParamFieldInfo(
            "emissiveColorB",
            "Emissive Color: B",
            True,
            int,
            'Emissive color: B',
        ),
        ParamFieldInfo(
            "maxDecalSfxCreatableSlopeAngleDeg",
            "Decal SFX Creation Max Angle",
            True,
            float,
            'SFX generation upper limit angle',
        ),
        ParamFieldInfo(
            "pad_02[40]",
            "Padding",
            False,
            pad_field(40),
            'Padding',
        ),
    ],
}
